<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape the Hedge Maze with the Bros</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <canvas id="scene"></canvas>
    <div style="display:none;">
        <img id="sprites" src="./images/sprites.png" />
        <audio id="open" src="audio/open.wav"></audio>
        <audio id="bones" src="audio/bones.wav"></audio>
        <audio id="music" src="audio/music.ogg" loop="true"></audio>
        <audio id="rustle" src="audio/rustle.wav"></audio>
        <audio id="mud" src="audio/mud.ogg"></audio>
    </div>
    <input id="chatbox" />
</body>
</html>
<script src="./audio.js"></script>
<script src="./extras.js"></script>
<script src="./lib/signalr.js"></script>
<script src="./connection.js"></script>
<script src="./objects.js"></script>
<script src="./main.js"></script>
<script>   

    var game;
    var cvs = document.getElementById("scene");
    var AUDIO;

    window.onload = function() {
        cvs.width = TILESX * TILEWIDTH;
        cvs.height = TILESY * TILEHEIGHT;
        cvs.style.width = window.innerWidth + "px";
        cvs.style.height = window.innerHeight + "px";
        ctx = cvs.getContext("2d");

        document.getElementById("chatbox").style.visibility = "hidden";
        game = new Game(ctx);
        AUDIO = new AudioHandler();
    };

    window.onresize = function() {
        cvs.style.width = window.innerWidth + "px";
        cvs.style.height = window.innerHeight + "px";
    };

    document.addEventListener('keydown', function(event) {
        game.HandleKeyboardDown(event.keyCode);
    });

    document.addEventListener('keyup', function(event) {
        game.HandleKeyboardUp(event.keyCode);});
    
</script>